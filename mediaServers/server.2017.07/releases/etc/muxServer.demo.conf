# Port on which the server is listening. You must select a different
# port from your standard HTTP web server if it is running on the same
# computer.
HTTPPort 9090

# Address on which the server is bound. Only useful if you have
# several network interfaces.
HTTPBindAddress 0.0.0.0

RTSPPort 9098
RTSPBindAddress 0.0.0.0

# Number of simultaneous HTTP connections that can be handled. It has
# to be defined *before* the MaxClients parameter, since it defines the
# MaxClients maximum limit.
MaxHTTPConnections 2000

# Number of simultaneous requests that can be handled. Since FFServer
# is very fast, it is more likely that you will want to leave this high
# and use MaxBandwidth, below.
MaxClients 1000

# This the maximum amount of kbit/sec that you are prepared to
# consume when streaming to clients.
MaxBandwidth 10000

# Access log file (uses standard Apache log file format)
# '-' is the standard output.
CustomLog -




##################################################################
# Example streams


# Multipart JPEG

#<Stream test.mjpg>
#Feed feed1.ffm
#Format mpjpeg
#VideoFrameRate 2
#VideoIntraOnly
#NoAudio
#Strict -1
#</Stream>


# Single JPEG

#<Stream test.jpg>
#Feed feed1.ffm
#Format jpeg
#VideoFrameRate 2
#VideoIntraOnly
##VideoSize 352x240
#NoAudio
#Strict -1
#</Stream>


# Flash

#<Stream test.swf>
#Feed feed1.ffm
#Format swf
#VideoFrameRate 2
#VideoIntraOnly
#NoAudio
#</Stream>




# MP3 audio

#<Stream test.mp3>
#Feed feed1.ffm
#Format mp2
#AudioCodec mp3
#AudioBitRate 64
#AudioChannels 1
#AudioSampleRate 44100
#NoVideo
#</Stream>


##################################################################
# A stream coming from a file: you only need to set the input
# filename and optionally a new format. Supported conversions:
#    AVI -> ASF

<Stream file.avi>
File "/media/sf_mux/m/VideoWall Video.avi"
Format avi
#NoVideo
#AudioCodec aac
#NoAudio
</Stream>


<Stream file.rm>
File "/media/sf_mux/m/epsode04.rm"
Format asf
#NoVideo
#AudioCodec aac
#NoAudio
</Stream>

<Stream 60Minutes.mkv>
File "/media/sf_mux/m/60.Minutes.mkv"
Format rtp
#NoAudio

#MulticastAddress		239.0.0.1
#MulticastPort				5000
#MulticastTTL				16
#NoLoop

</Stream>

<Stream file.asf>
File "/media/sf_mux/m/NorthKoreanParade2.asf"
#File "/media/sf_mux/m/60.Minutes.mkv"
Format asf
#NoAudio
#Metadata author "Me"
#Metadata copyright "Super MegaCorp"
#Metadata title "Test stream from disk"
#Metadata comment "Test comment"
</Stream>


##################################################################
# RTSP examples
#
# You can access this stream with the RTSP URL:
#   rtsp://localhost:5454/test1-rtsp.mpg
#
# A non-standard RTSP redirector is also created. Its URL is:
#   http://localhost:8090/test1-rtsp.rtsp

<Stream test1.mpg>
Format rtp
#File "/media/sf_mux/m/Samsung-UHD-Iceland.ts"
# this file is hevc code, which is not support
#File "/media/sf_mux/m/Ducks.Take.Off.2160p.h.265-Zion.mkv"
# ac3 in this file is not support by RTP protocol
#File "/media/sf_mux/m/American.mkv"
#File "/media/sf_mux/m/Shore_720p.264"

# this file works
#File "/media/sf_mux/m/VideoWall Video.avi"
#File "/media/sf_mux/m/tests/4K-29-H264.mp4"
File "/media/sf_mux/m/tests/4k-29-HEVC.m4v"

#File "/media/sf_mux/m/phfx_4KHD_VP9TestFootage.webm"

# this works
# File "/media/sf_mux/m/iMPACT.Wrestling.2015.11.05.1080p-30.WEBRip.h264-spamTV.mkv"

# File "/media/sf_mux/m/The.Good.Fight.S01E10.1080p.WEB-DL.DD5.1.H264-ViSUM.mkv"
#AudioCodec aac
#NoAudio
</Stream>


# Transcode an incoming live feed to another live feed,
# using libx264 and video presets

#<Stream live.h264>
#Format rtp
#Feed feed1.ffm
#VideoCodec libx264
#VideoFrameRate 24
#VideoBitRate 100
#VideoSize 480x272
#AVPresetVideo default
#AVPresetVideo baseline
#AVOptionVideo flags +global_header
#
#AudioCodec aac
#AudioBitRate 32
#AudioChannels 2
#AudioSampleRate 22050
#AVOptionAudio flags +global_header
#</Stream>

##################################################################
# SDP/multicast examples
#
# If you want to send your stream in multicast, you must set the
# multicast address with MulticastAddress. The port and the TTL can
# also be set.
#
# An SDP file is automatically generated by ffserver by adding the
# 'sdp' extension to the stream name (here
# http://localhost:8090/test1-sdp.sdp). You should usually give this
# file to your player to play the stream.
#
# The 'NoLoop' option can be used to avoid looping when the stream is
# terminated.

#<Stream test1-sdp.mpg>
#Format rtp
#File "/usr/local/httpd/htdocs/test1.mpg"
#MulticastAddress 224.124.0.1
#MulticastPort 5000
#MulticastTTL 16
#NoLoop
#</Stream>


##################################################################
# Special streams

# Server status

<Stream stat.html>
Format status

# Only allow local people to get the status
ACL allow localhost
ACL allow 192.168.0.0 192.168.255.255

#FaviconURL /media/sf_mux/server/releases/etc/favicon.ico
#FaviconURL http://pond1.gladstonefamily.net:8080/favicon.ico

</Stream>


# Redirect index.html to the appropriate site

<Redirect index.html>
URL http://192.168.168.102:9090/stat.html
</Redirect>
